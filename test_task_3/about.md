# Небольшие идеи

---

Чтобы обслуживать 1200 email-адресов для аутрича, как мне кажется достаточно:

1. Использовать несколько доменов и нескольких почтовых провайдеров, чтобы не перегружать один источник и снижать риск блокировок;
2. Делать рассылку асинхронно с указанием временнЫх отступов, создавая несколько "отправителей" в очереди задач;
3. Хранить все данные можно в одной БД, но прежде возможно есть смысл создания temp_БД (каждому из отправителей), чтобы убрать bottle_neck, используя одну общую;
4. Добавить минимальное логгирование (только по критическим ошибкам);
5. Возможно нужно владеть несколькими VPS (не уверен).

Стоимость инфраструктуры - условно **~50-120\$** в месяц, почтовая часть - **~300-600\$**.
Основываюсь на:
- средняя стоимость некрутого сервера 2-4 vCPU, 4–8 GB RAM, Диск 80–160 GB SSD ~ 10$
- Какие-либо дешевые email-провайдеры на 1200 ящиков 0.5$/месяц?

---

# Таблица зон ответственности

| Область                    | Решение                                                             | Инструменты                 | Принцип                                         | Риски                             |
| -------------------------- |---------------------------------------------------------------------|-----------------------------|-------------------------------------------------|-----------------------------------|
| **Архитектура**            | Несколько доменов, несколько провайдеров, очередь задач, отправщики | 2-3 VPS, PostgreSQL         | Панель -> очередь -> отправщики -> провайдер    | Падение сервера                   |
| **Сервисы и подходы**      | Простые сервисы                                                     | VPS, почтовые провайдеры    | Отправщики читают задачи и отправляют письма    | Rate-limit у провайдера           |
| **Ротация**                | Переключение между аккаунтами и доменами по лимитам                 | Таблица лимитов в БД        | Когда аккаунт достиг лимита - берётся следующий | Сгорание домена (спам/блок)       |
| **Мониторинг**             | Ошибки SMTP и тп                                                    | Prometheus/Grafana или логи |                                                 | Потеря репутации?                 |
| **Распределение нагрузки** | Отправщики масштабируются количественно                             | Несколько отправщиков       | Чем больше задач, тем больше отправщиков        | Один отправщик падает => задержки |
| **Оценка стоимости**       | Дешёвая инфраструктура + почтовые сервисы                           | VPS, BД, провайдеры         | Платится по подписке VPS и за почту             | Рост доменов/ящиков               |
